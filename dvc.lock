schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/LazadaIDReviews/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 878cc8a507f2610e217959c8a0d199fe
      size: 988
    outs:
    - path: artifacts/data-ingestion/category.csv
      hash: md5
      md5: f2d30f003184cb08be4c54ca71bc7684
      size: 135
    - path: artifacts/data-ingestion/items.csv
      hash: md5
      md5: 695004117cec3bd55e4e302355b241d0
      size: 3006906
    - path: artifacts/data-ingestion/reviews.csv
      hash: md5
      md5: 83921f47905d74329daf25d0dd519ad9
      size: 28743988
  preprocessing:
    cmd: python src/LazadaIDReviews/pipeline/stage_02_preprocessing.py
    deps:
    - path: artifacts/data-ingestion/reviews.csv
      hash: md5
      md5: 83921f47905d74329daf25d0dd519ad9
      size: 28743988
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_02_preprocessing.py
      hash: md5
      md5: 85fda816f3534755f74adaf986c2bbb9
      size: 1432
    params:
      metrics/params.yaml:
        TEST_SIZE: 0.8
    outs:
    - path: artifacts/data/X_test.pkl
      hash: md5
      md5: 0e0e8de5b13f63e7570b25af7df5bf1d
      size: 7825516
    - path: artifacts/data/X_train.pkl
      hash: md5
      md5: e2398b1879398f8f7b29d6a45eca48fe
      size: 2061345
    - path: artifacts/data/y_test.pkl
      hash: md5
      md5: 9279dc2380112aaa7002fd895f5ee0ff
      size: 2055573
    - path: artifacts/data/y_train.pkl
      hash: md5
      md5: f326fbb10b86467a8db569aaf96bee19
      size: 663375
    - path: artifacts/models/vectorizer.pkl
      hash: md5
      md5: e3327b657b9038ae14dd5bc2a1b1eb9a
      size: 280590
    - path: artifacts/preprocessing/X_test_vec.pkl
      hash: md5
      md5: 1cbd6432ceabe8464d2d3b6ae034f97a
      size: 12163387
    - path: artifacts/preprocessing/X_train_vec.pkl
      hash: md5
      md5: c7aca208732924339171a5705ecac50d
      size: 14685491
  training:
    cmd: python src/LazadaIDReviews/pipeline/stage_03_train_model.py
    deps:
    - path: artifacts/data/y_train.pkl
      hash: md5
      md5: f326fbb10b86467a8db569aaf96bee19
      size: 663375
    - path: artifacts/preprocessing/X_train_vec.pkl
      hash: md5
      md5: c7aca208732924339171a5705ecac50d
      size: 14685491
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_03_train_model.py
      hash: md5
      md5: 026ab29ae803aa1252af9f65770d3d61
      size: 918
    params:
      metrics/params.yaml:
        MAX_ITER: 300
        N_JOBS: -1
        SOLVER: lbfgs
    outs:
    - path: artifacts/models/logistic_regression.pkl
      hash: md5
      md5: 2b54a7f8d62a842928bf3e9c86e2734a
      size: 544511
  evaluation:
    cmd: python src/LazadaIDReviews/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data/X_test.pkl
      hash: md5
      md5: 0e0e8de5b13f63e7570b25af7df5bf1d
      size: 7825516
    - path: artifacts/data/X_train.pkl
      hash: md5
      md5: e2398b1879398f8f7b29d6a45eca48fe
      size: 2061345
    - path: artifacts/data/y_train.pkl
      hash: md5
      md5: f326fbb10b86467a8db569aaf96bee19
      size: 663375
    - path: artifacts/models/logistic_regression.pkl
      hash: md5
      md5: 2b54a7f8d62a842928bf3e9c86e2734a
      size: 544511
    - path: artifacts/preprocessing/X_train_vec.pkl
      hash: md5
      md5: c7aca208732924339171a5705ecac50d
      size: 14685491
    - path: config/config.yaml
      hash: md5
      md5: 935b0b01d1155e089e4ce4ffe989b711
      size: 1447
    - path: src/LazadaIDReviews/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: caba8bf90d7a08948a15b5d35d033b23
      size: 950
    outs:
    - path: metrics/scores.json
      hash: md5
      md5: 1c52d65e04e59626d6fe273926145fb3
      size: 1194
